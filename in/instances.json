{
    "experiments": [
        {
            "name": "collab: free",
            "environment_type": "osworld",
            "templates": {
                "roles": [
                    {
                        "name": "advisor",
                        "handler_type": "standard",
                        "initial_prompt": "**Advisor Prompt**\n\nYou are the Advisor, a coordinator with high-level knowledge responsible for achieving a provided goal. Your role is to assign tasks to the Executor, a skilled worker capable of completing tasks through knowledge-based execution. The goal will be provided with this prompt. Your responsibilities are:\n\n1. **Assigning the Goal**: Clearly define the goal as a task for the Executor to complete, using the format:\n   RESPONSE\n   ```\n   ...task description...\n   ```\n\n2. **Handling Complex Tasks**: If the goal is complex, divide it into clear sub-tasks from a results-focused perspective. Rephrase or elaborate descriptively to aid the Executor's understanding, without suggesting solutions or specific methods.\n\n3. **Responding to Executor Requests**: Address any questions, clarifications, statements, or updates from the Executor using:\n   RESPONSE\n   ```\n   ...feedback, additional details, or restated priorities...\n   ```\n   Provide feedback or task-related information as needed, but avoid procedural or tool-specific advice.\n\n4. **Evaluating Progress**: Review the Executor's updates. If the goal is achieved, conclude with:\n   STATUS\n   ```\n   DONE\n   ```\n   If the goal cannot be met, conclude with:\n   STATUS\n   ```\n   FAIL\n   ```\n\n5. **Staying Goal-Focused**: Assess outcomes, redirect efforts, or clarify priorities as needed, but only at the task level to keep the Executor aligned with the goal.\n\n**Guidelines**:\n- Use only one communication format (RESPONSE or STATUS) per message\n- Use simple, clear language for tasks and responses.\n- Break complex tasks into logical sub-tasks, focusing on desired outcomes.\n- Avoid operator-specific knowledge, step-by-step instructions, or tool-specific guidance.\n- Ensure all tasks and responses support the goal's objectives.\n\nProceed by assigning the provided goal to the Executor.",
                        "allowed_components": [
                            "goal",
                            "request"
                        ]
                    },
                    {
                        "name": "executor",
                        "handler_type": "environment",
                        "initial_prompt": "**Executor Prompt**\n\nYou are the Executor, a skilled worker with access to an Ubuntu environment for task execution. Your role is to perform tasks assigned by the Advisor, using your expertise in logic, problem-solving, and technical execution. You receive observations from the environment, which may include system responses, accessibility tree data (based on the AT-SPI library), or output from executed commands. Your responsibilities are:\n\n1. **Executing Tasks**: Perform tasks assigned by the Advisor by interacting with the Ubuntu environment using the format:\n   EXECUTE\n   ```\n   <python code using pyautogui>\n   ```\n   - Use the `pyautogui` Python library for environment interactions.\n   - **Do not** use `pyautogui.locateCenterOnScreen()`, as element images are not available.\n   - **Do not** use `pyautogui.screenshot()` to take screenshots.\n   - Ensure actions are time-efficient, introducing short pauses like `time.sleep(0.5)` when necessary for stability.\n   - Each action must be a complete, standalone piece of code without dependencies on prior variables or functions.\n   - Determine screen coordinates based on observations, ensuring accuracy.\n\n2. **Communicating with the Advisor**: Use the following format to request feedback, seek task clarification, provide updates, or report if a task is infeasible or completed:\n   REQUEST\n   ```\n   ...task-related questions, clarifications, or updates...\n   ```\n   - Never request implementation details or clarifications on how to execute the task.\n   - Focus only on task-specific information provided by the Advisor.\n\n3. **Acting as an Operator**: Focus strictly on executing assigned tasks. Do not assume the overall goal or engage in planning. Operate based solely on the Advisor's instructions.\n\n4. **Using Skills**: Apply your skills in logic, problem-solving, technical execution, and attention to detail to complete tasks efficiently and accurately.\n\n**Guidelines**:\n- Use only one communication format (EXECUTE or REQUEST) per message.\n- Use simple, clear language in communications with the Advisor.\n- Ensure all actions align with the assigned task and provided observations.\n- Maintain precision in environment interactions, using observations to guide actions.\n\nProceed by awaiting tasks from the Advisor and acting on provided observations.",
                        "allowed_components": [
                            "observation",
                            "response"
                        ]
                    }
                ],
                "graph": {
                    "nodes": [
                        {
                            "id": "START",
                            "type": "START"
                        },
                        {
                            "id": "advisor",
                            "type": "PLAYER",
                            "role_index": 0
                        },
                        {
                            "id": "executor",
                            "type": "PLAYER",
                            "role_index": 1
                        },
                        {
                            "id": "END",
                            "type": "END"
                        }
                    ],
                    "edges": [
                        {
                            "from": "START",
                            "to": "advisor",
                            "type": "STANDARD",
                            "description": ""
                        },
                        {
                            "from": "advisor",
                            "to": "executor",
                            "type": "DECISION",
                            "condition": {
                                "condition_type": "task"
                            },
                            "description": "TASK"
                        },
                        {
                            "from": "advisor",
                            "to": "executor",
                            "type": "DECISION",
                            "condition": {
                                "condition_type": "response"
                            },
                            "description": "RESPONSE"
                        },
                        {
                            "from": "executor",
                            "to": "advisor",
                            "type": "DECISION",
                            "condition": {
                                "condition_type": "request"
                            },
                            "description": "REQUEST"
                        },
                        {
                            "from": "executor",
                            "to": "executor",
                            "type": "DECISION",
                            "condition": {
                                "condition_type": "pyautogui_actions"
                            },
                            "description": "PYAUTOGUI_ACTIONS"
                        },
                        {
                            "from": "advisor",
                            "to": "END",
                            "type": "DECISION",
                            "condition": {
                                "condition_type": "done_or_fail"
                            },
                            "description": "DONE_OR_FAIL"
                        }
                    ],
                    "anchor_node": "advisor"
                }
            },
            "game_instances": [
                {
                    "game_id": "c84148c2-c5e3-4327-a203-d5c411338ced",
                    "task_config": {
                        "id": "c84148c2-c5e3-4327-a203-d5c411338ced",
                        "snapshot": "os",
                        "instruction": "Rename the file 'report.txt' to 'final_report.txt'",
                        "source": "Custom",
                        "config": [
                            {
                                "type": "download",
                                "parameters": {
                                    "files": [
                                        {
                                            "url": "https://drive.google.com/uc?export=download&id=1_W_t78vQwby5sXs0WoEDVp8jnNjqOA2m",
                                            "path": "/home/user/Desktop/report.txt"
                                        }
                                    ]
                                }
                            },
                            {
                                "type": "execute",
                                "parameters": {
                                    "command": [
                                        "python",
                                        "-c",
                                        "import pyautogui; import time; pyautogui.hotkey('ctrl', 'alt', 't'); time.sleep(0.5);"
                                    ]
                                }
                            }
                        ],
                        "trajectory": "trajectories/",
                        "related_apps": [
                            "os"
                        ],
                        "evaluator": {
                            "func": "exact_match",
                            "result": {
                                "type": "vm_command_line",
                                "command": "[ -f /home/user/Desktop/final_report.txt ] && echo 'Exists' || echo 'Not Found'",
                                "shell": true
                            },
                            "expected": {
                                "type": "rule",
                                "rules": {
                                    "expected": "Exists\n"
                                }
                            }
                        }
                    }
                }
            ],
            "config": {
                "headless": false,
                "observation_type": "a11y_tree",
                "action_space": "pyautogui",
                "screen_width": 1920,
                "screen_height": 1080,
                "path_to_vm": "/Users/nidhirbhavsar/Desktop/WORK/OSWorld/vmware_vm_data/Ubuntu0/Ubuntu0.vmx",
                "sleep_after_execution": 0,
                "max_retries": 2,
                "max_rounds": 5,
                "max_transitions_per_round": 5
            }
        }
    ]
}